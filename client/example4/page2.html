<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Example 4</title>
<script type="text/javascript">

window.onbeforeunload = function(e) {
    let dirty = document.getElementById("chkDirty").checked;

    console.log(dirty);

    //e.preventDefault();
    //return "Are you sure you want to navigate away?";

    return null;
};

window.onload = function() {
    document.getElementById("btnForward").addEventListener("click", function(){
        history.go(5);
    });

    document.getElementById("btnBackward").addEventListener("click", function(){
        history.go(-5);
    });

    document.getElementById("btnHistoryLength").addEventListener("click", function(){
        alert(history.length);
    });
};

</script>
</head>
<body>
<div>Example 4 - Page 2</div>
<div>
    <input type="checkbox" id="chkDirty">Page is dirty<br>
</div>
<div>
<div><a href="/">Back ...</a></div>

<!-- Submit and immediate redirect -->
<form action="/handle-post?page=1" method="POST">
    <button type="submit">Submit Form</button>
</form>

<form action="/handle-post?page=html" method="POST">
    <button type="submit">Submit Form for non-redirect</button>
</form>

<div>
    <button type="button" id="btnForward">Forward</button>
    <button type="button" id="btnBackward">Backward</button>
    <button type="button" id="btnHistoryLength">History Length</button>
</div>

</div>
</body>
</html>